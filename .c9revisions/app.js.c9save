{"ts":1375953804336,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/**\n * Module dependencies.\n */\n\nvar express = require('express')\n  , routes = require('./routes')\n  , user = require('./routes/user')\n  , http = require('http')\n  , path = require('path');\n\nvar app = express();\n\n// all environments\napp.set('port', process.env.PORT || 3000);\napp.set('views', __dirname + '/views');\napp.set('view engine', 'jade');\napp.use(express.favicon());\napp.use(express.logger('dev'));\napp.use(express.bodyParser());\napp.use(express.methodOverride());\napp.use(app.router);\napp.use(express.static(path.join(__dirname, 'public')));\n\n// development only\nif ('development' == app.get('env')) {\n  app.use(express.errorHandler());\n}\n\napp.get('/', routes.index);\napp.get('/users', user.list);\n\nhttp.createServer(app).listen(app.get('port'), function(){\n  console.log('Express server listening on port ' + app.get('port'));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":843}]],"length":843}
{"contributors":[],"silentsave":false,"ts":1376342870796,"patch":[[{"diffs":[[0,"t('/"],[-1,"users', user.list);"],[1,":Z/:X/:Y.json', function (req, res) {\n    res.send('Hello World');\n})\n"],[0,"\n\nht"]],"start1":685,"start2":685,"length1":27,"length2":78}]],"length":894,"saved":false}
{"ts":1376343441212,"patch":[[{"diffs":[[0,"send"],[-1,"('Hello World'"],[1,"file(\"./tmm.json\""],[0,");\n}"]],"start1":735,"start2":735,"length1":22,"length2":25}]],"length":897,"saved":false}
{"ts":1376343509377,"patch":[[{"diffs":[[0,"le(\"./tm"],[-1,"m"],[1,"p"],[0,".json\");"]],"start1":741,"start2":741,"length1":17,"length2":17}]],"length":897,"saved":false}
{"contributors":[],"silentsave":false,"ts":1376686260835,"patch":[[{"diffs":[[0,"t('/"],[-1,":Z/:X/:Y"],[1,"National"],[0,".jso"]],"start1":685,"start2":685,"length1":16,"length2":16},{"diffs":[[0,"(\"./"],[-1,"tmp.json\");\n})\n"],[1,"GeoJSON/National.json\");\n})\napp.get('/Regional.json', function (req, res) {\n    res.sendfile(\"./GeoJSON/Regional.json\");\n})"],[0,"\n\nht"]],"start1":743,"start2":743,"length1":23,"length2":131}]],"length":1005,"saved":false}
{"contributors":[],"silentsave":false,"ts":1378148921713,"patch":[[{"diffs":[[0,"index);\n"],[1,"\napp.get('/geoJSON/{x}/{y}/{z}.json', function (req, res) {\n    res.sendfile(\"./GeoJSON/National.json\");\n})\n\n"],[0,"app.get("]],"start1":671,"start2":671,"length1":16,"length2":125}]],"length":1114,"saved":false}
{"ts":1378150318122,"patch":[[{"diffs":[[0,"/{y}"],[-1,"/{z}"],[0,".jso"]],"start1":701,"start2":701,"length1":12,"length2":8}]],"length":1110,"saved":false}
{"ts":1378153835585,"patch":[[{"diffs":[[0,"('path')"],[-1,";"],[0,"\n"],[1,"  , mongo = require('mongodb');"],[0,"\nvar app"]],"start1":181,"start2":181,"length1":18,"length2":48},{"diffs":[[0,"());\n}\n\n"],[1,"\n\nvar mongoUri = process.env.MONGOLAB_URI ||\n  process.env.MONGOHQ_URL ||\n  'mongodb://localhost/mydb';\n\nmongo.Db.connect(mongoUri, function (err, db) {\n  db.collection('mydocs', function(er, collection) {\n    collection.insert({'mykey': 'myvalue'}, {safe: true}, function(er,rs) {\n    });\n  });\n});\n\n"],[0,"app.get("]],"start1":673,"start2":673,"length1":16,"length2":317}]],"length":1441,"saved":false}
{"ts":1378154671999,"patch":[[{"diffs":[[0,"godb');\n"],[1,"  \n"],[0,"var app "]],"start1":214,"start2":214,"length1":16,"length2":19},{"diffs":[[0,"i = "],[-1,"process.env.MONGOLAB_URI ||\n  process.env.MONGOHQ_URL ||\n  'mongodb://localhost/mydb';"],[1," mongodb://danjamker:apple@ds027668.mongolab.com:27668/geolocations"],[0,"\n\nmo"]],"start1":697,"start2":697,"length1":94,"length2":75},{"diffs":[[0,", db) {\n"],[-1," "],[0," db.coll"]],"start1":810,"start2":810,"length1":17,"length2":16},{"diffs":[[0,"on('"],[-1,"mydocs', function(er, collection) {\n    collection.insert({'mykey': 'myvalue'}, {safe: true}, function(er,rs) {\n    });\n "],[1,"UKPostcode').find({ loc :\n                  { $geoWithin :\n                    { $geometry :\n                      { type : \"Polygon\" ,\n                        coordinates : [ [\n                                          [ 0 , 0 ] ,\n                                          [ 3 , 6 ] ,\n                                          [ 6 , 1 ] ,\n                                          [ 0 , 0 ]\n                                        ] ]\n                } } }"],[0," });"]],"start1":830,"start2":830,"length1":129,"length2":465},{"diffs":[[0,"SON/"],[-1,"{x}/{y}"],[1,":x/:y/:e/:w/:q"],[0,".jso"]],"start1":1344,"start2":1344,"length1":15,"length2":22},{"diffs":[[0,"on (req, res) {\n"],[1,"    \n    mongo.Db.connect(mongoUri, function (err, db) {\n        var tmp = [[req.params.y,req.params.e],[req.params.w,req.params.q]]\n      db.collection('places').find({loc: {$within: {$box: tmp}}).toArray(function(err, docs) {\n        if(err) return console.dir(err)\n    \n        assert.equal(docs.length, 2);\n      });\n      \n});\n    \n"],[0,"    res.sendfile"]],"start1":1376,"start2":1376,"length1":32,"length2":369}]],"length":2104,"saved":false}
