{"ts":1378460046603,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Db = require('mongodb').Db;\nvar Connection = require('mongodb').Connection;\nvar Server = require('mongodb').Server;\nvar BSON = require('mongodb').BSON;\nvar ObjectID = require('mongodb').ObjectID;\n\nPostCodeProvider = function(host) {\n  this.db= new Db('geolocations', new Server(host, {safe: true}, {auto_reconnect: true}, {}));\n  this.db.open(function(){});\n};\n\nPostCodeProvider.prototype.getCollection = function(callback) {\n  this.db.collection('Postcodelookup', function(error, employee_collection) {\n    if( error ) callback(error);\n    else callback(null, employee_collection);\n  });\n};\n\nPostCodeProvider.prototype.findAll = function(input, callback) {\n    this.getCollection(function(error, employee_collection) {\n      if( error ) callback(error)\n      else {\n        employee_collection.find({$or : [{ postRegon:input },{postcode:input},{postcoderegon:input}]}).toArray(function(error, results) {\n          if( error ) callback(error)\n          else callback(null, results)\n        });\n      }\n    });\n};\nexports.PostCodeProvider = PostCodeProvider;\n"]],"start1":0,"start2":0,"length1":0,"length2":1062}]],"length":1062}
