{"ts":1376318874862,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var po = org.polymaps;\n\n// Compute noniles.\nvar quantile = pv.Scale.quantile()\n    .quantiles(9)\n    .domain(pv.values(unemployment))\n    .range(0, 8);\n\nvar map = po.map()\n    .container(document.getElementById(\"map\").appendChild(po.svg(\"svg\")))\n    .center({lat: 39, lon: -96})\n    .zoom(4)\n    .zoomRange([3, 7])\n    .add(po.interact());\n\nmap.add(po.image()\n    .url(po.url(\"http://{S}tile.cloudmade.com\"\n    + \"/1a1b06b230af4efdbb989ea99e9841af\" // http://cloudmade.com/register\n    + \"/20760/256/{Z}/{X}/{Y}.png\")\n    .hosts([\"a.\", \"b.\", \"c.\", \"\"])));\n\nmap.add(po.geoJson()\n    .url(\"http://polymaps.appspot.com/county/{Z}/{X}/{Y}.json\")\n    .on(\"load\", load)\n    .id(\"county\"));\n\nmap.add(po.geoJson()\n    .url(\"http://polymaps.appspot.com/state/{Z}/{X}/{Y}.json\")\n    .id(\"state\"));\n\nmap.add(po.compass()\n    .pan(\"none\"));\n\nfunction load(e) {\n  for (var i = 0; i < e.features.length; i++) {\n    var feature = e.features[i];\n    if (feature.data.id.substring(9) == \"000\") continue; // skip bogus counties\n    var d = unemployment[feature.data.id.substring(7)];\n    feature.element.setAttribute(\"class\", \"q\" + quantile(d) + \"-\" + 9);\n    feature.element.appendChild(po.svg(\"title\").appendChild(\n        document.createTextNode(feature.data.properties.name + \": \" + d + \"%\"))\n        .parentNode);\n  }\n}\n\nmap.container().setAttribute(\"class\", \"Blues\");\n"]],"start1":0,"start2":0,"length1":0,"length2":1356}]],"length":1356}
